---
import { Button } from '../ui/button'
import { Card, CardContent, CardFooter } from '../ui/card'
import { Input } from '../ui/input'
import { Label } from '../ui/label'
import { Textarea } from '../ui/textarea'

// if (Astro.request.method === 'POST') {
//   try {
//     const data = await Astro.request.formData()
//     const name = `${data.get('fname')} ${data.get('lname')}`
//     const email = data.get('email')
//     const cname = data.get('cname')
//     const number = data.get('number')
//     const message = data.get('message')
//   } catch (error) {
//     if (error instanceof Error) {
//       console.error(error.message)
//     }
//   }
// }
---

<section class='pb-16 sm:pb-20 grow'>
  <div class='mx-auto max-w-2xl lg:max-w-7xl'>
    <form
      action='mailto:ashrafsaid79@gmail.com'
      method='POST'
      enctype='multipart/form-data'
      class='mt-3 flex flex-col'
    >
      <Card className='bg-neutral-100 sm:p-4'>
        <CardContent className='pt-6'>
          <form>
            <div class='flex flex-col gap-8'>
              <div class='flex flex-wrap gap-6'>
                <div class='flex flex-col space-y-2 grow'>
                  <Label htmlFor='fname'
                    >First Name <span class='text-red-500'>*</span></Label
                  >
                  <Input
                    className='bg-white'
                    id='fname'
                    name='fname'
                    required
                    placeholder='Your first name'
                  />
                </div>
                <div class='flex flex-col space-y-2 grow'>
                  <Label htmlFor='lname'
                    >Last Name <span class='text-red-500'>*</span></Label
                  >
                  <Input
                    className='bg-white'
                    id='lname'
                    name='lname'
                    required
                    placeholder='Your last name'
                  />
                </div>
              </div>
              <div class='flex flex-wrap gap-6'>
                <div class='flex flex-col space-y-2 grow'>
                  <Label htmlFor='email'
                    >Email Address <span class='text-red-500'>*</span></Label
                  >
                  <Input
                    className='bg-white'
                    type='email'
                    id='email'
                    name='email'
                    required
                    placeholder='Your email address'
                  />
                </div>
                <div class='flex flex-col space-y-2 grow'>
                  <Label htmlFor='cname'>Company Name</Label>
                  <Input
                    className='bg-white'
                    id='cname'
                    name='cname'
                    placeholder='Your company name'
                  />
                </div>
              </div>
              <div class='flex flex-col space-y-2'>
                <Label htmlFor='number'>Contact Number</Label>
                <Input
                  type='tel'
                  className='bg-white'
                  id='number'
                  name='number'
                  placeholder='Your contact number'
                />
              </div>
              <div class='flex flex-col space-y-2'>
                <Label htmlFor='message'
                  >Message <span class='text-red-500'>*</span></Label
                >
                <Textarea
                  className='bg-white'
                  id='message'
                  name='message'
                  required
                  placeholder='Type your message here'
                />
              </div>
            </div>
          </form>
        </CardContent>
        <CardFooter>
          <Button type='submit' className='text-lg'>Submit</Button>
        </CardFooter>
      </Card>
    </form>
  </div>
</section>
